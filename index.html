<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://pxl.vladislav-cheremisin.dev.altkraft.com/ak_container.js?id=MnwxMg.." ></script>
</head>
<body>
    <button id="init_sub">TEST PIXEL на уведомления</button>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
    <h1>Something for scroll</h1>
<script>

    document.getElementById('init_sub').addEventListener('click', function() { // По клику на кнопку..
    try {
        var akPush = new AKPush();
        
        akPush.initSubscription({ email: 'test_safari@ru.ru' }) // ..показать форму подписки
        }
    catch (e) {
        console.log(e); // Или записать ошибку в консоль браузера
        }
    });
</script>

<!-- START OF ALTCRAFT PIXEL CODE AUTO-LOAD!-->
<script type="text/javascript">
!function() {
    var e = {
        url: "https://pxl.vladislav-cheremisin.dev.altkraft.com/pixel?k=34FyFph%2BVuwG8CNaE2Y5w9k7Jg3MJUl1m%2Fqui6fGQJa6XD9SM9jghQ%3D%3D&s=jKy%2BrzwSSnk%3D",
        goals: "",
        value: parseFloat("0"),
        timeout: parseInt("5000"),
        after_scroll: JSON.parse("false"),
        auto_load: JSON.parse("true"),
        has_active_timeout: false,
    }
      , o = function(o, t, n, a) {
        e.has_active_timeout ? console.log('has active timeout'): console.log('has inactive timeout');
        e.has_active_timeout ? return undefined;
        
        if (e.has_active_timeout) return;
        
        console.log('o-function working!');
        
        var d = [].concat(o).map(function(e) {
            return encodeURIComponent(e)
        }).join(",")
          , c = encodeURIComponent(String(t || 0))
          , i = encodeURIComponent(n.matching_mode || "")
          , r = encodeURIComponent(n.db_id || 0)
          , u = encodeURIComponent(JSON.stringify(n.match || {}))
          , l = encodeURIComponent(JSON.stringify(n.update || {}));
        setTimeout(function() {
            (new Image).src = [e.url, "goals=" + d, "value=" + c, "db_id=" + r, "mmode=" + i, "match=" + u, "update=" + l].join("&")
        }, a)
    }
      , t = !1
      , n = function() {
        t || (t = !0,
        e.after_scroll ? document.addEventListener("scroll", function() {
            console.log('Auto-load timeout working!')
            (window.pageYOffset || document.documentElement.scrollTop > 0) && o(e.goals, e.value, {}, e.timeout)
        }) : e.auto_load && o(e.goals, e.value, {}, e.timeout))
    };
    "complete" === document.readyState || "interactive" === document.readyState ? n() : window.addEventListener("load", n);
    window.ak_pixel_push = function(e, t, n, a, d, c) {
        var i = [];
        Array.isArray(e) ? i = e : i[0] = e,
        o(i, t, {
            match: n,
            update: a,
            matching_mode: d,
            db_id: c
        }, 0)
    }
}();
</script>
<!-- END OF ALTCRAFT PIXEL CODE !-->
    
<!-- START OF ALTCRAFT PIXEL CODE AFTER-SCROLL !-->
<script type="text/javascript">
!function() {
    var e = {
        url: "https://pxl.vladislav-cheremisin.dev.altkraft.com/pixel?k=34FyFph%2BVuwG8CNaE2Y5w9k7Jg3MJUl1m%2Fqui6fGQJa6XD9SM9jghQ%3D%3D&s=jKy%2BrzwSSnk%3D",
        goals: "",
        value: parseFloat("0"),
        timeout: parseInt("5000"),
        after_scroll: JSON.parse("true"),
        auto_load: JSON.parse("false"),
        has_active_timeout: false,
    }
      , o = function(o, t, n, a) {
        e.has_active_timeout ? console.log('has active timeout'): console.log('has inactive timeout');
        e.has_active_timeout = true;
        
        if (e.has_active_timeout) return;
        
        console.log('o-function working!');
        
        var d = [].concat(o).map(function(e) {
            return encodeURIComponent(e)
        }).join(",")
          , c = encodeURIComponent(String(t || 0))
          , i = encodeURIComponent(n.matching_mode || "")
          , r = encodeURIComponent(n.db_id || 0)
          , u = encodeURIComponent(JSON.stringify(n.match || {}))
          , l = encodeURIComponent(JSON.stringify(n.update || {}));
        setTimeout(function() {
            (new Image).src = [e.url, "goals=" + d, "value=" + c, "db_id=" + r, "mmode=" + i, "match=" + u, "update=" + l].join("&")
        }, a)
    }
      , t = !1
      , n = function() {
        t || (t = !0,
        e.after_scroll ? document.addEventListener("scroll", function() {
            console.log('After-scroll timeout working!')
            (window.pageYOffset || document.documentElement.scrollTop > 0) && o(e.goals, e.value, {}, e.timeout)
        }) : e.auto_load && o(e.goals, e.value, {}, e.timeout))
    };
    "complete" === document.readyState || "interactive" === document.readyState ? n() : window.addEventListener("load", n);
    window.ak_pixel_push = function(e, t, n, a, d, c) {
        var i = [];
        Array.isArray(e) ? i = e : i[0] = e,
        o(i, t, {
            match: n,
            update: a,
            matching_mode: d,
            db_id: c
        }, 0)
    }
}();
</script>
<!-- END OF ALTCRAFT PIXEL CODE !-->
</body>
</html>
